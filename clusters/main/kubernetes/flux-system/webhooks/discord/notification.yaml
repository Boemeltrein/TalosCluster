---
apiVersion: notification.toolkit.fluxcd.io/v1beta3
kind: Provider
metadata:
  name: discord
  namespace: flux-system
spec:
  type: discord
  secretRef:
    name: discord-webhook
---
apiVersion: notification.toolkit.fluxcd.io/v1beta3
kind: Alert
metadata:
  name: discord
  namespace: flux-system
spec:
  providerRef:
    name: discord
  eventSeverity: error
  eventSources:
    - kind: HelmRepository
      name: '*'
    - kind: OCIRepository
      name: '*'
    - kind: Kustomization
      name: '*'
---
apiVersion: notification.toolkit.fluxcd.io/v1beta3
kind: Alert
metadata:
  name: discord-helm
  namespace: flux-system
spec:
  providerRef:
    name: discord
  eventSeverity: info
  eventSources:
    - kind: HelmRelease
      name: "*"
      namespace: "authelia"
    - kind: HelmRelease
      name: "*"
      namespace: "grafana-alloy"
    - kind: HelmRelease
      name: "*"
      namespace: "grafana-loki"
    - kind: HelmRelease
      name: "*"
      namespace: "grafana"
    - kind: HelmRelease
      name: "*"
      namespace: "guacamole"
    - kind: HelmRelease
      name: "*"
      namespace: "hermitcraft-java"
    - kind: HelmRelease
      name: "*"
      namespace: "home-assistant"
    - kind: HelmRelease
      name: "*"
      namespace: "homepage"
    - kind: HelmRelease
      name: "*"
      namespace: "kubernetes-dashboard"
    - kind: HelmRelease
      name: "*"
      namespace: "librespeed"
    - kind: HelmRelease
      name: "*"
      namespace: "lldap"
    - kind: HelmRelease
      name: "*"
      namespace: "metube"
    - kind: HelmRelease
      name: "*"
      namespace: "minecraft-java"
    - kind: HelmRelease
      name: "*"
      namespace: "minecraft-router"
    - kind: HelmRelease
      name: "*"
      namespace: "pgadmin"
    - kind: HelmRelease
      name: "*"
      namespace: "plex"
    - kind: HelmRelease
      name: "*"
      namespace: "prowlarr"
    - kind: HelmRelease
      name: "*"
      namespace: "radarr"
    - kind: HelmRelease
      name: "*"
      namespace: "sabnzbd"
    - kind: HelmRelease
      name: "*"
      namespace: "signal-cli-rest-api"
    - kind: HelmRelease
      name: "*"
      namespace: "sonarr"
    - kind: HelmRelease
      name: "*"
      namespace: "speedtest-tracker"
    - kind: HelmRelease
      name: "*"
      namespace: "truenas-exporter"
    - kind: HelmRelease
      name: "*"
      namespace: "webserver-dynmap"
    - kind: HelmRelease
      name: "*"
      namespace: "zwave-js-ui"
    - kind: HelmRelease
      name: "*"
      namespace: "blocky"
    - kind: HelmRelease
      name: "*"
      namespace: "clusterissuer"
    - kind: HelmRelease
      name: "*"
      namespace: "metallb-config"
    - kind: HelmRelease
      name: "*"
      namespace: "cilium"                                                                                         
    - kind: HelmRelease
      name: "*"
      namespace: "kube-system"
    - kind: HelmRelease
      name: "*"
      namespace: "nginx-external"
    - kind: HelmRelease
      name: "*"
      namespace: "nginx-internal"
    - kind: HelmRelease
      name: "*"
      namespace: "kube-prometheus-stack"
    - kind: HelmRelease
      name: "*"
      namespace: "cert-manager"
    - kind: HelmRelease
      name: "*"
      namespace: "cloudnative-pg"
    - kind: HelmRelease
      name: "*"
      namespace: "kubernetes-reflector" 
    - kind: HelmRelease
      name: "*"
      namespace: "longhorn" 
    - kind: HelmRelease
      name: "*"
      namespace: "metallb" 
    - kind: HelmRelease
      name: "*"
      namespace: "openebs" 
    - kind: HelmRelease
      name: "*"
      namespace: "snapshot-controller" 
    - kind: HelmRelease
      name: "*"
      namespace: "spegel" 
    - kind: HelmRelease
      name: "*"
      namespace: "system-upgrade-controller" 
    - kind: HelmRelease
      name: "*"
      namespace: "volsync"
    - kind: HelmRelease
      name: "*"
